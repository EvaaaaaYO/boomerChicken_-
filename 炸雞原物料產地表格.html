<!DOCTYPE html>
<html>

<head>
    <title>Bootstrap 5 Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- bootstrap5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jquery  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<script>

    var 修改的資料;
    $(document).ready(function () {
        let msg歷史資料 = "";
        $("#button1").click(function () {
            // 改一
            let email = $("#email").val();
            let info = $("#info").val();
            let city = $("#CITY").val();
            let server = $("#SERVER").val();
            // 改二
            let html1 = `<tr> 
                  <td>`+ email + `</td>
                  <td>`+ info + `</td> 
                   <td>`+ city + `</td> 
                   <td>`+ server + `</td> 

                  <td><button type="button" class="btn btn-danger del" > 刪除</button>  </td> 
               </tr> `;
            //alert(html1);
            // 將內容加在h1 的裡面
            $("#tbody1").append(html1);
            fun_點選表格();
            fun_處理刪除的按鈕();
        });

        $("#button2").click(function () {
            // 改三
            $("#email").val("");
            $("#info").val("");
            $("#CITY").val("");
            $("#SERVER").val("");
        });


        fun_處理刪除的按鈕();
        // 點選table 的內容  

        fun_點選表格();

        // 修改  
        $("#button3").click(function () {
            // 改四 
            let email = $("#email").val();
            let info = $("#info").val();
            let city = $("#CITY").val();
            let server = $("#SERVER").val();
            console.log("箱子:" + email);

            // 改五
            $(修改的資料).find("td").eq(0).text(email);
            $(修改的資料).find("td").eq(1).text(info);

            $(修改的資料).find("td").eq(2).text(city);
            $(修改的資料).find("td").eq(3).text(server);

            let aa = $(修改的資料).find("td").eq(0);
            console.log("aa;" + aa);
        });
    });
    function fun_處理刪除的按鈕() {
        // 處理刪除    
        $(".del").click(function () {
            $(this).parents("tr").remove();
        });
    }
    function fun_點選表格() {
        $("tr").click(function () {
            修改的資料 = this;
            console.log(this);
            // 改六
            let Email1 = $(this).find("td").eq(0).text();
            let info1 = $(this).find("td").eq(1).text();
            let city1 = $(this).find("td").eq(2).text();
            let server1 = $(this).find("td").eq(3).text();


            // 改七
            $("#email").val(Email1);
            $("#info").val(info1);
            $("#SERVER").val(server1);
            $("#CITY").val(city1);
        });
    }
</script>
</head>

<body>
    <div class="container">

        <div class="mt-4 p-5 bg-secondary text-white rounded">
            <h1>炸雞原物料庫存管理系統</h1>
            <p>有小麥粉、雞肉、麵粉、生菜...</p>
        </div>

        <div class="mb-3">
            <label for="email" class="form-label">產品編號</label>
            <input type="email" class="form-control" id="email" placeholder="name@example.com">
        </div>
        <!--  -->
        <div class="mb-3">
            <label for="info" class="form-label">品名</label>
            <textarea class="form-control" id="info" rows="2"></textarea>
        </div>
        <!--  -->
        <div class="mb-3">
            <label for="email" class="form-label">產地</label>
            <input type="email" class="form-control" id="CITY">
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">供應商</label>
            <input type="email" class="form-control" id="SERVER">
        </div>



        <!--  -->
        <button type="button" class="btn btn-primary" id="button1"> 添加資料</button>
        <button type="button" class="btn btn-secondary" id="button2"> 清空上面</button>
        <button type="button" class="btn btn-secondary" id="button3"> 修改</button>

        <p>
            <hr>
        <p>

        <table class="table  table-striped  table-hover">
            <thead class="table-dark">
                <tr>
                    <th scope="col">產品編號</th>
                    <th scope="col">品名</th>
                    <th scope="col">產地</th>
                    <th scope="col">供應商</th>
                    <th scope="col">刪除</th>
                </tr>
            </thead>
            <tbody id="tbody1">
                <tr>
                    <td>H122</td>
                    <td>小麥粉</td>
                    <td>美國</td>
                    <td>麥大老</td>
                    <td>
                        <button type="button" class="btn btn-danger del"> 刪除</button>
                    </td>
                </tr>
                <tr>
                    <td>A55</td>
                    <td>珍珠雞</td>
                    <td>台灣</td>
                    <td>金珠寶養殖場</td>
                    <td>
                        <button type="button" class="btn btn-danger del"> 刪除</button>
                    </td>
                </tr>
                <tr>
                    <td>A56</td>
                    <td>鑽石雞</td>
                    <td>台灣</td>
                    <td>金珠寶養殖場</td>
                    <td>
                        <button type="button" class="btn btn-danger del"> 刪除</button>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>

</body>

</html>